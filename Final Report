R Programming Code Used in the Analysis of this Case Study task 

#Install Needed Packages
install.packages("tidyverse")
library(tidyverse)
install.packages("lubridate")
library(lubridate)
install.packages("ggplot2")
library(ggplot2)

#displays the working directory
getwd() 

#sets working directory 
setwd("C:/Users/use_your_own_director/Documents/CSV Files") 

#Uploading files into R Programming Console 
q2_2019 <- read_csv("Divvy_Trips_2019_Q2.csv")
q3_2019 <- read_csv("Divvy_Trips_2019_Q3.csv")
q4_2019 <- read_csv("Divvy_Trips_2019_Q4.csv")
q1_2020 <- read_csv("Divvy_Trips_2020_Q1.csv")

#Get familiar with your data
colnames(q2_2019)
colnames(q3_2019)
colnames(q4_2019)
colnames(q1_2020)

#Rename Columns to have consistent data, that will be required to compile the files into one
q4_2019 <- rename(q4_2019
+                    ,ride_id = trip_id
+                    ,rideable_type = bikeid 
+                    ,started_at = start_time  
+                    ,ended_at = end_time  
+                    ,start_station_name = from_station_name 
+                    ,start_station_id = from_station_id 
+                    ,end_station_name = to_station_name 
+                    ,end_station_id = to_station_id 
+                    ,member_casual = usertype)
q3_2019 <- rename(q3_2019
+                    ,ride_id = trip_id
+                    ,rideable_type = bikeid 
+                    ,started_at = start_time  
+                    ,ended_at = end_time  
+                    ,start_station_name = from_station_name 
+                    ,start_station_id = from_station_id 
+                    ,end_station_name = to_station_name 
+                    ,end_station_id = to_station_id 
+                    ,member_casual = usertype)
q2_2019 <- rename(q2_2019
+                    ,ride_id = "01 - Rental Details Rental ID"
+                    ,rideable_type = "01 - Rental Details Bike ID" 
+                    ,started_at = "01 - Rental Details Local Start Time"  
+                    ,ended_at = "01 - Rental Details Local End Time"  
+                    ,start_station_name = "03 - Rental Start Station Name" 
+                    ,start_station_id = "03 - Rental Start Station ID"
+                    ,end_station_name = "02 - Rental End Station Name" 
+                    ,end_station_id = "02 - Rental End Station ID"
+                    ,member_casual = "User Type")

#Compile all 4 files in one 
all_trips <- bind_rows(q2_2019, q3_2019, q4_2019, q1_2020)

#Statistical Summary of Dataset
summary(all_trips)
table(all_trips$member_casual) #shows number of trips per member or casual but here it shows also other types of subscriptions like customer and subscriber so we need to change those to be consistent

#Change all member and casual rider_type
all_trips <-  all_trips %>% 
+   mutate(member_casual = recode(member_casual
+                                 ,"Subscriber" = "member"
+                                 ,"Customer" = "casual"))

#Create new columns to specify the date & month and day of the week also the duration of each trip
all_trips$date <- as.Date(all_trips$started_at) #The default format is yyyy-mm-dd
all_trips$month <- format(as.Date(all_trips$date), "%m")
all_trips$day <- format(as.Date(all_trips$date), "%d")
all_trips$year <- format(as.Date(all_trips$date), "%Y")
all_trips$day_of_week <- format(as.Date(all_trips$date), "%A")
all_trips$ride_length <- difftime(all_trips$ended_at,all_trips$started_at)









